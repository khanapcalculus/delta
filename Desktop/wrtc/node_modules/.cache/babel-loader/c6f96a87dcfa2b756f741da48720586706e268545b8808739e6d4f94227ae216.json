{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eniac\\\\Desktop\\\\wrtc\\\\src\\\\components\\\\Whiteboard.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef, useState } from 'react';\nimport { Layer, Line, Stage } from 'react-konva';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Whiteboard = ({\n  tool,\n  color,\n  strokeWidth,\n  onDrawing,\n  drawingData\n}) => {\n  _s();\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentPath, setCurrentPath] = useState([]);\n  const stageRef = useRef();\n  const handleMouseDown = useCallback(e => {\n    if (tool !== 'pen') return;\n    setIsDrawing(true);\n    const pos = e.target.getStage().getPointerPosition();\n    const newPath = [pos.x, pos.y];\n    setCurrentPath(newPath);\n  }, [tool]);\n  const handleMouseMove = useCallback(e => {\n    if (!isDrawing || tool !== 'pen') return;\n    const stage = e.target.getStage();\n    const point = stage.getPointerPosition();\n    const newPath = [...currentPath, point.x, point.y];\n    setCurrentPath(newPath);\n  }, [isDrawing, tool, currentPath]);\n  const handleMouseUp = useCallback(() => {\n    if (!isDrawing || tool !== 'pen' || currentPath.length < 4) {\n      setIsDrawing(false);\n      setCurrentPath([]);\n      return;\n    }\n    const newStroke = {\n      id: Date.now() + Math.random(),\n      points: currentPath,\n      color: color,\n      strokeWidth: strokeWidth,\n      tool: tool,\n      timestamp: Date.now()\n    };\n    onDrawing(newStroke);\n    setIsDrawing(false);\n    setCurrentPath([]);\n  }, [isDrawing, tool, currentPath, color, strokeWidth, onDrawing]);\n\n  // Combine drawing data with current drawing path\n  const allLines = [...drawingData, ...(isDrawing && currentPath.length > 0 ? [{\n    id: 'current',\n    points: currentPath,\n    color: color,\n    strokeWidth: strokeWidth,\n    tool: tool\n  }] : [])];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"whiteboard\",\n    style: {\n      flex: 1,\n      overflow: 'hidden'\n    },\n    children: /*#__PURE__*/_jsxDEV(Stage, {\n      width: 1200,\n      height: 2400,\n      onMouseDown: handleMouseDown,\n      onMousemove: handleMouseMove,\n      onMouseup: handleMouseUp,\n      onTouchStart: handleMouseDown,\n      onTouchMove: handleMouseMove,\n      onTouchEnd: handleMouseUp,\n      ref: stageRef,\n      style: {\n        border: '2px solid #ddd',\n        background: 'white',\n        cursor: tool === 'pen' ? 'crosshair' : 'default'\n      },\n      children: /*#__PURE__*/_jsxDEV(Layer, {\n        children: allLines.map(line => /*#__PURE__*/_jsxDEV(Line, {\n          points: line.points,\n          stroke: line.color || '#000000',\n          strokeWidth: line.strokeWidth || 2,\n          tension: 0.5,\n          lineCap: \"round\",\n          lineJoin: \"round\",\n          globalCompositeOperation: \"source-over\"\n        }, line.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Whiteboard, \"56nT10cAGWMyx5V7k892EVjTTBA=\");\n_c = Whiteboard;\nexport default Whiteboard;\nvar _c;\n$RefreshReg$(_c, \"Whiteboard\");","map":{"version":3,"names":["React","useCallback","useRef","useState","Layer","Line","Stage","jsxDEV","_jsxDEV","Whiteboard","tool","color","strokeWidth","onDrawing","drawingData","_s","isDrawing","setIsDrawing","currentPath","setCurrentPath","stageRef","handleMouseDown","e","pos","target","getStage","getPointerPosition","newPath","x","y","handleMouseMove","stage","point","handleMouseUp","length","newStroke","id","Date","now","Math","random","points","timestamp","allLines","className","style","flex","overflow","children","width","height","onMouseDown","onMousemove","onMouseup","onTouchStart","onTouchMove","onTouchEnd","ref","border","background","cursor","map","line","stroke","tension","lineCap","lineJoin","globalCompositeOperation","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/eniac/Desktop/wrtc/src/components/Whiteboard.js"],"sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\nimport { Layer, Line, Stage } from 'react-konva';\n\nconst Whiteboard = ({ tool, color, strokeWidth, onDrawing, drawingData }) => {\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentPath, setCurrentPath] = useState([]);\n  const stageRef = useRef();\n\n  const handleMouseDown = useCallback((e) => {\n    if (tool !== 'pen') return;\n    \n    setIsDrawing(true);\n    const pos = e.target.getStage().getPointerPosition();\n    const newPath = [pos.x, pos.y];\n    setCurrentPath(newPath);\n  }, [tool]);\n\n  const handleMouseMove = useCallback((e) => {\n    if (!isDrawing || tool !== 'pen') return;\n\n    const stage = e.target.getStage();\n    const point = stage.getPointerPosition();\n    const newPath = [...currentPath, point.x, point.y];\n    setCurrentPath(newPath);\n  }, [isDrawing, tool, currentPath]);\n\n  const handleMouseUp = useCallback(() => {\n    if (!isDrawing || tool !== 'pen' || currentPath.length < 4) {\n      setIsDrawing(false);\n      setCurrentPath([]);\n      return;\n    }\n\n    const newStroke = {\n      id: Date.now() + Math.random(),\n      points: currentPath,\n      color: color,\n      strokeWidth: strokeWidth,\n      tool: tool,\n      timestamp: Date.now()\n    };\n\n    onDrawing(newStroke);\n    setIsDrawing(false);\n    setCurrentPath([]);\n  }, [isDrawing, tool, currentPath, color, strokeWidth, onDrawing]);\n\n  // Combine drawing data with current drawing path\n  const allLines = [\n    ...drawingData,\n    ...(isDrawing && currentPath.length > 0 ? [{\n      id: 'current',\n      points: currentPath,\n      color: color,\n      strokeWidth: strokeWidth,\n      tool: tool\n    }] : [])\n  ];\n\n  return (\n    <div className=\"whiteboard\" style={{ flex: 1, overflow: 'hidden' }}>\n      <Stage\n        width={1200}\n        height={2400}\n        onMouseDown={handleMouseDown}\n        onMousemove={handleMouseMove}\n        onMouseup={handleMouseUp}\n        onTouchStart={handleMouseDown}\n        onTouchMove={handleMouseMove}\n        onTouchEnd={handleMouseUp}\n        ref={stageRef}\n        style={{ \n          border: '2px solid #ddd',\n          background: 'white',\n          cursor: tool === 'pen' ? 'crosshair' : 'default'\n        }}\n      >\n        <Layer>\n          {allLines.map((line) => (\n            <Line\n              key={line.id}\n              points={line.points}\n              stroke={line.color || '#000000'}\n              strokeWidth={(line.strokeWidth || 2)}\n              tension={0.5}\n              lineCap=\"round\"\n              lineJoin=\"round\"\n              globalCompositeOperation=\"source-over\"\n            />\n          ))}\n        </Layer>\n      </Stage>\n    </div>\n  );\n};\n\nexport default Whiteboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}